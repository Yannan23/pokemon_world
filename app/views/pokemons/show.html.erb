<div class="container">
  <div class="row justify-content-center">

    <div class="d-flex align-items-center justify-content-center mt-3 mb-4">
      <h1 class="mt-4 press-start-2p-regular"><%= @pokemon.name %></h1>
      <% if @pokemon.user === current_user %>
      <div>
        <%= link_to edit_pokemon_path(@pokemon), class: "ms-4 mt-4", style: "color: black;" do%>
        <i class="fa-solid fa-pen"></i>
        <%end%>
        <%= link_to pokemon_path, data: { turbo_method: :delete, turbo_confirm: 'Are you sure?' }, style: "color: black;" do %>
        <i class="fa-solid fa-trash mx-3"></i>
        <% end %>
      </div>
      <% end %>
    </div>

    <div class="carousel-container">
      <%= render "shared/carousel" %>
    </div>

    <div class="d-flex">
      <div class="col-8">
        <div class="py-3 mr-3">

          <div class="d-flex align-items-center">
            <i class="nes-icon is-medium heart"></i>
            <div class="px-3 py-2">Description</div>
          </div>
          <div class="mt-3 border-bottom border-3">
            <p class="lh-lg" style="text-align: justify;">
              <% 8.times do %>
              <%= @pokemon.overview %>
              <% end %>
            </p>
          </div>

          <div class="d-flex mt-3">
            <i class="nes-icon is-medium heart"></i>
              <div class="d-flex justify-content-between flex-grow-1 px-3 py-2">
                <div>
                  <p class="pl-3">
                    <%= @pokemon.reviews.count %> reviews
                  </p>
                </div>
                <% if user_signed_in? %>
                  <div>
                    <%= link_to "+review", new_pokemon_review_path(@pokemon) %>
                  </div>
                <% end %>
              </div>
          </div>

          <%# List reviews %>
          <ul class="px-5 mx-3">
            <% @pokemon.reviews.each do |review| %>
            <li class="list-group-item mt-3">
              <div class="review-card">
                <%= review.user.name || "Pokemon trainer" %>
                <%= review.content %>
              </div>
            </li>
            <% end %>
          </ul>
        </div>
      </div>

      <div class="col-4">
        <div class="price-card">
          <div class="nes-container is-rounded mt-auto">
            <h3 class="press-start-2p-regular mb-5">Price</h3>
              <p style="text-align: right; padding-right: 30px">$ <%= @pokemon.price %> AUD</p>
            <div class="d-grid">
                <%= button_to "BOOK", new_pokemon_booking_path(@pokemon), method: :get, class: "nes-btn is-warning w-100" %>
            </div>
          </div>
        </div>


      </div>
    </div>

  </div>
</div>
